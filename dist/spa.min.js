!function(e){function t(r){if(n[r])return n[r].exports;var module=n[r]={i:r,l:!1,exports:{}};return e[r].call(module.exports,module,module.exports,t),module.l=!0,module.exports}var n={};t.m=e,t.c=n,t.d=function(exports,e,n){t.o(exports,e)||Object.defineProperty(exports,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return t.d(e,"a",e),e},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(module,exports,e){"use strict";var t,n,r;!function(e,o){var $jh={};o(e,$jh),"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?(e.$jh=$jh,module.exports=$jh):(n=[exports],t=$jh,void 0!==(r="function"==typeof t?t.apply(exports,n):t)&&(module.exports=r))}(window,function(e,$jh,t){function n(e){if(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}var r=window.location.href.split("?");return r[1]?r[1]:"dom"}function r(e,t){var n=y.createElement(e),r=function(e,t){for(var n in e)o(e[n],"[object Object]")?r(e[n],t[n]):t[n]=e[n]};return t=t||{},r(t,n),n}function o(e,t){return m.toString.call(e)==t}function i(e){return null!=e&&e===e.window}function a(e){if(!o(e,"[object Object]")||e.nodeType||i(e))return!1;try{if(e.constructor&&!m.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}function c(){}function u(e){this.routeName=e.routeName||"",this.args=this.deepcopy(m.args),this.params=e.params||"dom",this.pageKey=m.pageKey||"",this.pageType=m.pageType||"normal",this.dom,this.pageId=this.routeName+(new Date).getTime(),this.controller=t}function l(e){if(e.dom||(e.dom=r("div",{className:"jhAppView"}),e.dom.style.display="none"),w[e.routeName]){e.controller=new w[e.routeName];var t=b.getPage(-1);e.controller.onCreate(e,t),h(e,t)}else console.error("请检查config.js中是否引入控制器")}function h(e,t){var n=b.pageExist(e),r=b.pageFlag.length;if(-1!=n){for(n;n<b.pageFlag.length-1;){var o=b.pop();!function(e){e.controller.onDestroy&&e.controller.onDestroy(),setTimeout(function(){e.destroy();try{b.page[e.pageId]="",delete b.page[e.pageId]}catch(e){console.error("移除堆区page对象失败")}},500)}(o)}e.controller.onResume&&e.controller.onResume(e,t)}else b.push(e);0===r?(b.firstPage=e,p(e,t,"one")):p(e,t,m.animation)}function p(e,t,n){var r=e.dom,o=t&&t.dom;"one"===n?(m.parent.appendChild(r),r.style.display="block"):"baseIn"===n||"baseOut"===n?(m.parent.appendChild(r),r.style.display="block",o.style.display="none",m.parent.removeChild(o)):"easeIn"===n?(r.style.display="none",r.style.left="100%",r.style.zIndex="99",r.style.display="block",m.parent.appendChild(r),setTimeout(function(){r.style.transition="left 0.2s ease",r.style.left="0"},20),setTimeout(function(){r.style.transition="none",r.style.zIndex="none",o.style.display="none",m.parent.removeChild(o)},400)):"easeOut"===n&&(r.style.display="none",r.style.left="-100%",r.style.zIndex="99",r.style.display="block",m.parent.appendChild(r),setTimeout(function(){r.style.transition="left 0.2s ease",r.style.left="0"},20),setTimeout(function(){r.style.transition="none",r.style.zIndex="none",o.style.display="none",m.parent.removeChild(o)},400)),m.animation=""}function f(e){if(m.pageId){var t=b.page[m.pageId];m.pageId="",t.args=m.args,t.params=e.params,h(t,b.getPage(-1))}else l(e)}var d;!function(){function e(){return""===u.hash||"#"===u.hash}function n(e,t){for(var n=0;n<e.length;n+=1)if(!1===t(e[n],n,e))return}function r(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function o(e,t,n){if(!e.length)return n();var r=0;!function o(){t(e[r],function(t){t||!1===t?(n(t),n=function(){}):(r+=1,r===e.length?n():o())})}()}function i(e,t,n){n=e;for(var r in t)if(t.hasOwnProperty(r)&&(n=t[r](e))!==e)break;return n===e?"([._a-zA-Z0-9-%()]+)":n}function a(e,t){for(var n,r=0,o="";n=e.substr(r).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)r=n.index+n[0].length,n[0]=n[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),o+=e.substr(0,n.index)+n[0];e=o+=e.substr(r);var a,s,c=e.match(/:([^\/]+)/gi);if(c){s=c.length;for(var u=0;u<s;u++)a=c[u],e="::"===a.slice(0,2)?a.slice(1):e.replace(a,i(a,t))}return e}function c(e,t,n,r){var o,i=0,a=0,s=0,n=(n||"(").toString(),r=(r||")").toString();for(o=0;o<e.length;o++){var c=e[o];if(c.indexOf(n,i)>c.indexOf(r,i)||~c.indexOf(n,i)&&!~c.indexOf(r,i)||!~c.indexOf(n,i)&&~c.indexOf(r,i)){if(a=c.indexOf(n,i),s=c.indexOf(r,i),~a&&!~s||!~a&&~s){e=[e.slice(0,(o||1)+1).join(t)].concat(e.slice((o||1)+1))}i=(s>a?s:a)+1,o=0}else i=0}return e}var u=document.location,l={mode:"modern",hash:u.hash,history:!1,check:function(){var e=u.hash;e!=this.hash&&(this.hash=e,this.onHashChanged())},fire:function(){"modern"===this.mode?!0===this.history?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(e,n){function r(e){for(var t=0,n=h.listeners.length;t<n;t++)h.listeners[t](e)}var o=this;if(this.history=n,h.listeners||(h.listeners=[]),"onhashchange"in window&&(document.documentMode===t||document.documentMode>7))!0===this.history?setTimeout(function(){window.onpopstate=r},500):window.onhashchange=r,this.mode="modern";else{var i=document.createElement("iframe");i.id="state-frame",i.style.display="none",document.body.appendChild(i),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&o.check()}),window.setInterval(function(){o.check()},50),this.onHashChanged=r,this.mode="legacy"}return h.listeners.push(e),this.mode},destroy:function(e){if(h&&h.listeners)for(var t=h.listeners,n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},setHash:function(e){return"legacy"===this.mode&&this.writeFrame(e),!0===this.history?(window.history.pushState({},document.title,e),this.fire()):u.hash="/"===e[0]?e:"/"+e,this},writeFrame:function(e){var t=document.getElementById("state-frame"),n=t.contentDocument||t.contentWindow.document;n.open(),n.write("<script>_hash = '"+e+"'; onload = parent.listener.syncHash;<script>"),n.close()},syncHash:function(){var e=this._hash;return e!=u.hash&&(u.hash=e),this},onHashChanged:function(){}},h=d=function(e){if(!(this instanceof h))return new h(e);this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),this.mount(e||{})};h.prototype.init=function(t){var n,r=this;return this.handler=function(e){var t=e&&e.newURL||window.location.hash,n=!0===r.history?r.getPath():t.replace(/.*#/,"");r.dispatch("on","/"===n.charAt(0)?n:"/"+n)},l.init(this.handler,this.history),!1===this.history?e()&&t?u.hash=t:e()||r.dispatch("on","/"+u.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(n=e()&&t?t:e()?null:u.hash.replace(/^#/,""))&&window.history.replaceState({},document.title,n):n=this.getPath(),(n||!0===this.run_in_init)&&this.handler()),this},h.prototype.explode=function(){var e=!0===this.history?this.getPath():u.hash;return"/"===e.charAt(1)&&(e=e.slice(1)),e.slice(1,e.length).split("/")},h.prototype.setRoute=function(e,t,n){var r=this.explode();return"number"==typeof e&&"string"==typeof t?r[e]=t:"string"==typeof n?r.splice(e,t,s):r=[e],l.setHash(r.join("/")),r},h.prototype.insertEx=function(e,t,n,r){return"once"===e&&(e="on",n=function(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}(n)),this._insert(e,t,n,r)},h.prototype.getRoute=function(e){var t=e;if("number"==typeof e)t=this.explode()[e];else if("string"==typeof e){var n=this.explode();t=n.indexOf(e)}else t=this.explode();return t},h.prototype.destroy=function(){return l.destroy(this.handler),this},h.prototype.getPath=function(){var e=window.location.pathname;return"/"!==e.substr(0,1)&&(e="/"+e),e};var p=/\?.*/;h.prototype.configure=function(e){e=e||{};for(var t=0;t<this.methods.length;t++)this._methods[this.methods[t]]=!0;return this.recurse=e.recurse||this.recurse||!1,this.async=e.async||!1,this.delimiter=e.delimiter||"/",this.strict=void 0===e.strict||e.strict,this.notfound=e.notfound,this.resource=e.resource,this.history=e.html5history&&this.historySupport||!1,this.run_in_init=!0===this.history&&!1!==e.run_handler_in_init,this.convert_hash_in_init=!0===this.history&&!1!==e.convert_hash_in_init,this.every={after:e.after||null,before:e.before||null,on:e.on||null},this},h.prototype.param=function(e,t){":"!==e[0]&&(e=":"+e);var n=new RegExp(e,"g");return this.params[e]=function(e){return e.replace(n,t.source||t)},this},h.prototype.on=h.prototype.route=function(e,t,n){var r=this;return n||"function"!=typeof t||(n=t,t=e,e="on"),Array.isArray(t)?t.forEach(function(t){r.on(e,t,n)}):(t.source&&(t=t.source.replace(/\\\//gi,"/")),Array.isArray(e)?e.forEach(function(e){r.on(e.toLowerCase(),t,n)}):(t=t.split(new RegExp(this.delimiter)),t=c(t,this.delimiter),void this.insert(e,this.scope.concat(t),n)))},h.prototype.path=function(e,t){var n=this.scope.length;e.source&&(e=e.source.replace(/\\\//gi,"/")),e=e.split(new RegExp(this.delimiter)),e=c(e,this.delimiter),this.scope=this.scope.concat(e),t.call(this,this),this.scope.splice(n,e.length)},h.prototype.dispatch=function(e,t,n){function r(){i.last=a.after,i.invoke(i.runlist(a),i,n)}var o,i=this,a=this.traverse(e,t.replace(p,""),this.routes,""),s=this._invoked;return this._invoked=!0,a&&0!==a.length?("forward"===this.recurse&&(a=a.reverse()),(o=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last])&&o.length>0&&s?(this.async?this.invoke(o,this,r):(this.invoke(o,this),r()),!0):(r(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:e,path:t},n),!1)},h.prototype.invoke=function(e,t,r){var i,a=this;this.async?(i=function(n,r){if(Array.isArray(n))return o(n,i,r);"function"==typeof n&&n.apply(t,(e.captures||[]).concat(r))},o(e,i,function(){r&&r.apply(t,arguments)})):(i=function(r){return Array.isArray(r)?n(r,i):"function"==typeof r?r.apply(t,e.captures||[]):void("string"==typeof r&&a.resource&&a.resource[r].apply(t,e.captures||[]))},n(e,i))},h.prototype.traverse=function(e,t,n,r,o){function i(e){function t(e){for(var n=[],r=0;r<e.length;r++)n[r]=Array.isArray(e[r])?t(e[r]):e[r];return n}function n(e){for(var t=e.length-1;t>=0;t--)Array.isArray(e[t])?(n(e[t]),0===e[t].length&&e.splice(t,1)):o(e[t])||e.splice(t,1)}if(!o)return e;var r=t(e);return r.matched=e.matched,r.captures=e.captures,r.after=e.after.filter(o),n(r),r}var a,s,c,u,l=[];if(t===this.delimiter&&n[e])return u=[[n.before,n[e]].filter(Boolean)],u.after=[n.after].filter(Boolean),u.matched=!0,u.captures=[],i(u);for(var h in n)if(n.hasOwnProperty(h)&&(!this._methods[h]||this._methods[h]&&"object"==typeof n[h]&&!Array.isArray(n[h]))){if(a=s=r+this.delimiter+h,this.strict||(s+="["+this.delimiter+"]?"),!(c=t.match(new RegExp("^"+s))))continue;if(c[0]&&c[0]==t&&n[h][e])return u=[[n[h].before,n[h][e]].filter(Boolean)],u.after=[n[h].after].filter(Boolean),u.matched=!0,u.captures=c.slice(1),this.recurse&&n===this.routes&&(u.push([n.before,n.on].filter(Boolean)),u.after=u.after.concat([n.after].filter(Boolean))),i(u);if(u=this.traverse(e,t,n[h],a),u.matched)return u.length>0&&(l=l.concat(u)),this.recurse&&(l.push([n[h].before,n[h].on].filter(Boolean)),u.after=u.after.concat([n[h].after].filter(Boolean)),n===this.routes&&(l.push([n.before,n.on].filter(Boolean)),u.after=u.after.concat([n.after].filter(Boolean)))),l.matched=!0,l.captures=u.captures,l.after=u.after,i(l)}return!1},h.prototype.insert=function(e,t,n,r){var o,i,s,c;if(t=t.filter(function(e){return e&&e.length>0}),r=r||this.routes,c=t.shift(),/\:|\*/.test(c)&&!/\\d|\\w/.test(c)&&(c=a(c,this.params)),t.length>0)return r[c]=r[c]||{},this.insert(e,t,n,r[c]);if(c||t.length||r!==this.routes){if(o=typeof r[c],i=Array.isArray(r[c]),r[c]&&!i&&"object"==o)switch(typeof r[c][e]){case"function":return void(r[c][e]=[r[c][e],n]);case"object":return void r[c][e].push(n);case"undefined":return void(r[c][e]=n)}else if("undefined"==o)return s={},s[e]=n,void(r[c]=s);throw new Error("Invalid route context: "+o)}switch(typeof r[e]){case"function":return void(r[e]=[r[e],n]);case"object":return void r[e].push(n);case"undefined":return void(r[e]=n)}},h.prototype.extend=function(e){var t,n=this,r=e.length;for(t=0;t<r;t++)!function(e){n._methods[e]=!0,n[e]=function(){var t=1===arguments.length?[e,""]:[e];n.on.apply(n,t.concat(Array.prototype.slice.call(arguments)))}}(e[t])},h.prototype.runlist=function(e){var t=this.every&&this.every.before?[this.every.before].concat(r(e)):r(e);return this.every&&this.every.on&&t.push(this.every.on),t.captures=e.captures,t.source=e.source,t},h.prototype.mount=function(e,t){if(e&&"object"==typeof e&&!Array.isArray(e)){var n=this;t=t||[],Array.isArray(t)||(t=t.split(n.delimiter));for(var r in e)e.hasOwnProperty(r)&&function(t,r){var o=t,i=t.split(n.delimiter),a=typeof e[t],s=""===i[0]||!n._methods[i[0]],u=s?"on":o;if(s&&(o=o.slice((o.match(new RegExp("^"+n.delimiter))||[""])[0].length),i.shift()),s&&"object"===a&&!Array.isArray(e[t]))return r=r.concat(i),void n.mount(e[t],r);s&&(r=r.concat(o.split(n.delimiter)),r=c(r,n.delimiter)),n.insert(u,r,e[t])}(r,t.slice(0))}}}();var g={};!function(e){function n(e){return"function"==typeof e}function r(e){return y(e)?"array":typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function a(e,t){return m.call(e,t)}function s(e){return!a(v,e)}function c(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return w[e]})}function u(t,n){function r(e){if("string"==typeof e&&(e=e.split(x,2)),!y(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(o(e[0])+"\\s*"),a=new RegExp("\\s*"+o(e[1])),c=new RegExp("\\s*"+o("}"+e[1]))}if(!t)return[];var i,a,c,u=[],f=[],d=[],g=!1,m=!1;r(n||e.tags);for(var v,w,T,I,P,E,j=new p(t);!j.eos();){if(v=j.pos,T=j.scanUntil(i))for(var O=0,C=T.length;O<C;++O)I=T.charAt(O),s(I)?d.push(f.length):m=!0,f.push(["text",I,v,v+1]),v+=1,"\n"===I&&function(){if(g&&!m)for(;d.length;)delete f[d.pop()];else d=[];g=!1,m=!1}();if(!j.scan(i))break;if(g=!0,w=j.scan(A)||"name",j.scan(b),"="===w?(T=j.scanUntil(k),j.scan(k),j.scanUntil(a)):"{"===w?(T=j.scanUntil(c),j.scan(_),j.scanUntil(a),w="&"):T=j.scanUntil(a),!j.scan(a))throw new Error("Unclosed tag at "+j.pos);if(P=[w,T,v,j.pos],f.push(P),"#"===w||"^"===w)u.push(P);else if("/"===w){if(!(E=u.pop()))throw new Error('Unopened section "'+T+'" at '+v);if(E[1]!==T)throw new Error('Unclosed section "'+E[1]+'" at '+v)}else"name"===w||"{"===w||"&"===w?m=!0:"="===w&&r(T)}if(E=u.pop())throw new Error('Unclosed section "'+E[1]+'" at '+j.pos);return h(l(f))}function l(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function h(e){for(var t,n,r=[],o=r,i=[],a=0,s=e.length;a<s;++a)switch(t=e[a],t[0]){case"#":case"^":o.push(t),i.push(t),o=t[4]=[];break;case"/":n=i.pop(),n[5]=t[2],o=i.length>0?i[i.length-1][4]:r;break;default:o.push(t)}return r}function p(e){this.string=e,this.tail=e,this.pos=0}function f(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function d(){this.cache={}}var g=Object.prototype.toString,y=Array.isArray||function(e){return"[object Array]"===g.call(e)},m=RegExp.prototype.test,v=/\S/,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},b=/\s*/,x=/\s+/,k=/\s*=/,_=/\s*\}/,A=/#|\^|\/|>|\{|&|=|!/;p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},p.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},f.prototype.push=function(e){return new f(e,this)},f.prototype.lookup=function(e){var t,r=this.cache;if(r.hasOwnProperty(e))t=r[e];else{for(var o,a,s=this,c=!1;s;){if(e.indexOf(".")>0)for(t=s.view,o=e.split("."),a=0;null!=t&&a<o.length;)a===o.length-1&&(c=i(t,o[a])),t=t[o[a++]];else t=s.view[e],c=i(s.view,e);if(c)break;s=s.parent}r[e]=t}return n(t)&&(t=t.call(this.view)),t},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(t,n){var r=this.cache,o=r[t];return null==o&&(o=r[t+":"+(n||e.tags).join(":")]=u(t,n)),o},d.prototype.render=function(e,t,n){var r=this.parse(e),o=t instanceof f?t:new f(t);return this.renderTokens(r,o,n,e)},d.prototype.renderTokens=function(e,n,r,o){for(var i,a,s,c="",u=0,l=e.length;u<l;++u)s=t,i=e[u],a=i[0],"#"===a?s=this.renderSection(i,n,r,o):"^"===a?s=this.renderInverted(i,n,r,o):">"===a?s=this.renderPartial(i,n,r,o):"&"===a?s=this.unescapedValue(i,n):"name"===a?s=this.escapedValue(i,n):"text"===a&&(s=this.rawValue(i)),s!==t&&(c+=s);return c},d.prototype.renderSection=function(e,t,r,o){function i(e){return a.render(e,t,r)}var a=this,s="",c=t.lookup(e[1]);if(c){if(y(c))for(var u=0,l=c.length;u<l;++u)s+=this.renderTokens(e[4],t.push(c[u]),r,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],t.push(c),r,o);else if(n(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(t.view,o.slice(e[3],e[5]),i))&&(s+=c)}else s+=this.renderTokens(e[4],t,r,o);return s}},d.prototype.renderInverted=function(e,t,n,r){var o=t.lookup(e[1]);if(!o||y(o)&&0===o.length)return this.renderTokens(e[4],t,n,r)},d.prototype.renderPartial=function(e,t,r){if(r){var o=n(r)?r(e[1]):r[e[1]];return null!=o?this.renderTokens(this.parse(o),t,r,o):void 0}},d.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},d.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},d.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var T=new d;e.clearCache=function(){return T.clearCache()},e.parse=function(e,t){return T.parse(e,t)},e.render=function(e,t,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+r(e)+'" was given as the first argument for mustache#render(template, view, partials)');return T.render(e,t,n)},e.to_html=function(t,r,o,i){var a=e.render(t,r,o);if(!n(i))return a;i(a)},e.escape=c,e.Scanner=p,e.Context=f,e.Writer=d}(g);var y=document,m={},v={},w={};$jh.prop={version:"1.0.0"},e.webGotoPage=function(){$jh.backHandle()},$jh.extend=function(){var e,n,r,i,s,c,u=arguments[0]||{},l=1,h=arguments.length,p=!1;for("boolean"==typeof u&&(p=u,u=arguments[1]||{},l=2),"object"==typeof u||o(u,"[object Function]")||(u={}),h===l&&(u=this,--l);l<h;l++)if(null!=(e=arguments[l]))for(n in e)r=u[n],i=e[n],u!==i&&(p&&i&&(a(i)||(s=Array.isArray(i)))?(s?(s=!1,c=r&&Array.isArray(r)?r:[]):c=r&&a(r)?r:{},u[n]=$jh.extend(p,c,i)):i!==t&&(u[n]=i));return u},$jh.extend({setStorage:function(e,t){var n={};n[e]=t,$jh.delStorage(e),$jh.extend.call(v,!0,n)},getStorage:function(e){return v[e]},delStorage:function(e){if($jh.getStorage(e))try{delete v[e]}catch(e){}},addController:function(e,t){w[e+""]=t}}),$jh.extend({urlparams2obj:function(e){var t={};-1!=e.indexOf("?")&&(e=e.split("?")[1]);var n=e.split("&");if(n.length>1)for(var r=0;r<n.length;r++){var o=n[r].split("=");if(!(o.length>1))return{};t[o[0]]=o[1]}else{var o=n[0].split("=");o.length>1&&(t[o[0]]=o[1])}return t},obj2urlparams:function(e){var t="";if(void 0===e||null==e||"object"!=typeof e)return"";for(var n in e)t+=(-1!=t.indexOf("=")?"&":"")+n+"="+e[n];return t}}),m.currentRoute="",m.routes={},m.args={},m.pageKey="",m.pageType="",m.pageId="",m.animation="",c.prototype={constructor:c,onCreate:function(e,t){},onResume:function(e,t){},onDestroy:function(){},onBack:function(){$jh.goBack()}},$jh.SpaController=c,u.prototype={constructor:u,destroy:function(){},deepcopy:function(e){return e?$jh.extend(!0,{},e):{}}};var b={page:{},pageFlag:[],firstPage:{}};b.push=function(e){b.pageFlag.push(e.pageId),b.page[e.pageId]=e},b.pop=function(){return b.page[b.pageFlag.pop()]},b.pageExist=function(e){for(var t=0;t<b.pageFlag.length;t++)if(b.pageFlag[t]==e.pageId)return t;return-1},b.findPageId=function(e){if(e.routeName){for(var t=b.pageFlag.length-2;t>=0;t--){var n=b.getPage(t);if(n.routeName===e.routeName&&(!e.key||n.pageKey===e.key))return n.pageId}return!1}var r=b.getPage(-1);if("normal"===r.pageType){for(var t=b.pageFlag.length-2;t>=0;t--){var n=b.getPage(t);if("normal"===n.pageType)return n.pageId}return!1}if("temp"===r.pageType)return b.getPage(-2).pageId},b.getPage=function(e){return 0!==b.pageFlag.length&&(e%=b.pageFlag.length,e<0?b.page[b.pageFlag[b.pageFlag.length+e]]:b.page[b.pageFlag[e]])},b.getInstackPage=function(){var e=b.pageFlag.length-2,t=null;for(e;e>=0;e--){var n=b.page[b.pageFlag[e]];if(!1===n.notinstack){t=n;break}}return t};var x=!0;$jh.backHandle=function(){x&&(x=!1,setTimeout(function(){x=!0},300),b.getPage(-1).controller&&b.getPage(-1).controller.onBack?b.getPage(-1).controller.onBack():$jh.goBack())},$jh.parseDom=function(e,t,n){var r;if("string"==n)return t?(g.parse(e),r=g.render(e,t)):r=e,r;var o=document.createElement("div");return t?(g.parse(e),r=g.render(e,t)):r=e,o.innerHTML=r,o.childNodes},$jh.extend({loading:{template:{base:'<div class="pub_loading"><div class="pub_loading_img"></div></div>',test:'<div class="simple_verify_loading" style="display:block;">    <div class="loading_box">        <div class="loading_img"></div>        <p class="loading_text">{{title}}</p>    </div></div>'},dom:null,status:0,clickClose:!0,_getDom:function(e,t){var n=this;return n.dom=$jh.parseDom(n.template[e],t)[0],n.dom.style.display="none",window.document.body.insertBefore(n.dom,t.parent),n.dom.addEventListener("click",function(e){n.clickClose&&n.close()}),this.dom},show:function(e){var t=this,e=e||{};if(e&&e.unclose?t.clickClose=!1:t.clickClose=!0,!t.status++){t._getDom(e.name||"base",e.data||{}).style.display="block"}e&&e.duration&&setTimeout(function(){t.close()},e.duration)},close:function(){var e=this;e.status>0&&0==--e.status&&(window.document.body.removeChild(e.dom),e.dom=null)}}});var k=!0;$jh.extend({go:function(t){if(!t.routeName)return void console.error("go方法缺少参数");(k||t.douTap)&&(k=!1,setTimeout(function(){k=!0},300),m.args=t.args||{},m.pageKey=t.key||"",m.pageType=t.type||"",m.animation=t.animation||"baseIn",e.location.hash="#"+t.routeName+(t.params?"?"+t.params:""))},goBack:function(t){if(1===b.pageFlag.length)return void console.log("关闭webview");if(k||t.douTap){k=!1,setTimeout(function(){k=!0},300);var n=b.findPageId(t||{});if(!n)return void console.error("未找到goBack指定返回页");m.pageId=n,m.args=t&&t.args?t.args:{},m.animation=t&&t.animation?t.animation:"baseOut",e.location.hash="#"+b.page[n].routeName+(t&&t.params?"?"+t.params:"")}},switchPage:function(t){if(!t||!t.routeName)return void console.error("change必须要有routeName");if(k||t.douTap){k=!1,setTimeout(function(){k=!0},300);var n=b.findPageId(t);n?(m.pageId=n,m.args=t&&t.args?t.args:{},m.animation=t&&t.animation?t.animation:"baseOut",e.location.hash="#"+b.page[n].routeName+(t&&t.params?"?"+t.params:"")):(t.douTap=!0,$jh.go(t))}},init:function(e){m.parent=e.container?y.querySelector(e.container):window.document.body;for(var t in w)!function(e,t){m.routes[e]={before:function(){m.currentRoute=e,t.before&&t.before()},on:function(){var t=n();f(new u({routeName:e,params:t}))},after:function(){t.after&&t.after()}}}(t,w[t]);d(m.routes).configure({notfound:function(){$jh.go({routeName:e.errRoute||"/error",douTap:!0})}}).init(e.home||"/")}})})}]);